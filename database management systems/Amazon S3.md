# Amazon S3
**Amazon S3 (Simple Storage Service)** — это объектное хранилище, предназначенное для хранения и извлечения практически любого объема данных в любое время и из любой точки через интернет. Данные хранятся как объекты в «ведрах» (buckets). Каждый объект включает:
- Сами данные (файл)
- Метаданные (описание объекта)
- Уникальный идентификатор (ключ)

## Классификация классов хранения S3

| Класс хранения | Предназначение | Доступность | Стойкость | Типичное использование | Экономика |
|----------------|----------------|-------------|-----------|-------------------------|-----------|
| **S3 Standard** | Часто доступные данные | 99.99% | 99.999999999% (11 девяток) | Веб-сайты, мобильные приложения, Big Data, распределение контента | Высокая стоимость хранения, низкая за запросы |
| **S3 Intelligent-Tiering** | Данные с неизвестным или меняющимся шаблоном доступа | Автоматическое перемещение между уровнями | 99.999999999% | Данные с непредсказуемым доступом | Плата за мониторинг и автоматическое перемещение |
| **S3 Standard-IA** (Infrequent Access) | Данные, к которым обращаются редко, но требуют быстрого доступа | 99.9% | 99.999999999% | Резервные копии, долгосрочное хранение, восстановление после аварий | Низкая за хранение, высокая за извлечение |
| **S3 One Zone-IA** | Реже используемые данные, не критичные к потере зоны доступности | 99.5% | 99.999999999% (в одной зоне) | Вторичные резервные копии, данные, которые можно восстановить | Дешевле, чем Standard-IA |
| **S3 Glacier Flexible Retrieval** | Долгосрочное архивирование | Минуты-часы (разные варианты извлечения) | 99.999999999% | Архивы, юридические и медицинские данные | Очень низкая за хранение, высокая за извлечение |
| **S3 Glacier Deep Archive** | Самые редко используемые данные | До 48 часов | 99.999999999% | Данные для нормативного соответствия (10+ лет), исторические архивы | Самое дешевое хранение, самое дорогое извлечение |
| **S3 Outposts** | Гибридная среда на AWS Outposts | Зависит от класса | Высокая | Данные, которые должны храниться локально | Премиум-цены за локальное размещение |

## Преимущества
* Надежность и доступность: 
     - 99.99% доступности SLA
     - 99.999999999% (11 девяток) долговечности объектов
     - Автоматическая репликация в пределах региона (минимум 3 AZ)
* Бесконечная масштабируемость:  
     - Храните от килобайт до экзабайт данных
     - Нет необходимости предварительного планирования емкости
* Высокая производительность  
     - Низкие задержки, высокие скорости передачи
     - Интеграция с **Amazon CloudFront** (CDN)
* Гибкое управление данными:  
     - **S3 Lifecycle** — автоматический переход между классами
     - Репликация между регионами (Cross-Region Replication)
     - Управление версиями объектов
* Безопасность и контроль доступа:  
     - Шифрование: SSE-S3, SSE-KMS, SSE-C (на стороне клиента)
     - TLS для передачи данных
     - Гибкое управление доступом через IAM, Bucket Policies, ACL
* Глубокая интеграция с AWS:  
     - Работает с Lambda, EC2, RDS, Athena, Redshift и др.
     - Центральный элемент архитектуры данных в AWS
* Экономическая модель:  
     - Оплата по факту использования (pay-as-you-go)
     - Нет капитальных затрат (CAPEX)

## Недостатки и ограничения
* Не является файловой системой: 
     - Не подходит для частых мелких операций изменения файлов
     - Нет блокировки файлов для одновременного доступа
     - Для файловых систем используйте **Amazon EFS** или **FSx**
* Сложность ценообразования:  
     - Множество факторов: класс хранения, объем, запросы, трафик
     - Выходной трафик в интернет может быть дорогим
     - Требуется тщательное планирование для оптимизации затрат
* Ограничения производительности:  
     - 3500 PUT/COPY/POST или 5500 GET/HEAD запросов в секунду на префикс
     - Для высоких нагрузок требуется распределение ключей (рандомизация префиксов)
* Прочие ограничения:  
    - Имя bucket должно быть глобально уникальным
    - Максимальный размер объекта: 5 ТБ
    - Ограничения на метаданные

## Сфера применения
* Веб-хостинг и CDN:  
    - Статические сайты → S3 → CloudFront → Пользователи
    - Хостинг HTML, CSS, JS, изображений
    - Origin-хранилище для CDN
* Резервное копирование и архивирование:  
    - Корпоративные бэкапы
    - Дампы баз данных
    - Логи приложений
    - Долгосрочное хранение в Glacier
* Data Lakes и аналитика:  
    - Разнородные данные → S3 (Data Lake) → Athena/EMR/Redshift → Аналитика
    - Централизованное хранилище для аналитических данных
    - Прямой анализ через Athena, EMR, Redshift Spectrum
* Медиа-контент и стриминг:  
    - Фото- и видеобиблиотеки
    - Стриминг видео через CloudFront
    - Интеграция с AWS Media Services
* Разработка и DevOps:  
    - Хранение артефактов сборки
    - Бинарные файлы приложений
    - Конфигурации для CI/CD
* IoT и большие данные*  
    - Прием потоковых данных с устройств
    - Хранение логов и телеметрии
    - Обработка больших объемов данных
