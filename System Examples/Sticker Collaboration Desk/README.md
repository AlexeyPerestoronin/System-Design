# Sticker Collaboration Desk

Система для совместной работы над стикерами на доске.

## Функциональные требования
* Дать возможность любому пользователю создать новую доску с уникальными ссылкой
* Созданную доску можно править любому пользователю без ограничений
* Пользователи должны иметь возможность создавать/изменять/удалять стикеры на доске

## НеФункциональные требования
* Время жизни одной доски 1 неделя
* Пользователи должны видеть актуальное содержимое доски в режиме реального времени
* Оценка объёма требуемой памяти для хранения всех досок:
    * $7GB \simeq DeskSize * DeskCount * 7_{ДнейВНеделе}$, где:
      * $DeskSize \simeq 10KB$ - средний размер памяти необходимый для сохранения доски
      * $DeskCount \simeq 1.000.000$ - среднее количество новых досок, созданный в течении одного дня
* Оценка сверху пропускной способности системы в секунду:
    * $50MB \simeq Users * Diff$, где:
        * $Users \simeq 500.000$ - максимальное ожидаемое количество активных пользователей в секунду
        * $Diff \simeq DeskSize * 0.01 \simeq 0.1KB$ - diff-информации для доски, генерируемый пользователем в секунду
* Дополнительно:
    * Должна быть возможность работать offline, а также в ситуации с плохим соединением.


## Happy Path:
1. Пользователь создаёт новую доску, или подключается к уже созданной:
    ```
    [User's App] --(POST /api/connect_to_desk? { "create_new": BoolOpt, "desk_id": NumberOpt})--> [Entry Point]  
        [Entry Point] --(найди или создай новую доску для работы)--> [Desk Management Service]
            [Desk Management Service] --(запусти сессию коллаборации)--> [Collaboration Service]
                [Collaboration Service] --(отправь пользователю ссылку на подключение к сессии для работы над доской)--> [Entry Point]
                    [Entry Point] --(HTTP RESPONSE? {"web_socket_connection": String})--> [User's App]
    ```
2. Работает с доской внося изменения (возможно в режиме коллаборации с другими пользователями)
3. Завершил работу над  доской

```
1. [User's App] --(WebSocketConnection)--> [Collaboration Server]
```

---

![](./stiсker%20collaboration%20desk.drawio.png)

---
